(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c68ba02"],{"0366":function(e,t,o){var n=o("1c0b");e.exports=function(e,t,o){if(n(e),void 0===t)return e;switch(o){case 0:return function(){return e.call(t)};case 1:return function(o){return e.call(t,o)};case 2:return function(o,n){return e.call(t,o,n)};case 3:return function(o,n,r){return e.call(t,o,n,r)}}return function(){return e.apply(t,arguments)}}},"159b":function(e,t,o){var n=o("da84"),r=o("fdbc"),s=o("17c2"),i=o("9112");for(var a in r){var c=n[a],l=c&&c.prototype;if(l&&l.forEach!==s)try{i(l,"forEach",s)}catch(u){l.forEach=s}}},"17c2":function(e,t,o){"use strict";var n=o("b727").forEach,r=o("a640"),s=o("ae40"),i=r("forEach"),a=s("forEach");e.exports=i&&a?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},4160:function(e,t,o){"use strict";var n=o("23e7"),r=o("17c2");n({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"692a":function(e,t,o){},"70e9":function(e,t,o){"use strict";o("692a")},8719:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{id:"user"}},[o("el-row",[o("el-col",{attrs:{span:24}},[o("el-input",{attrs:{placeholder:"请输入TOKEN进行初始化"},model:{value:e.token,callback:function(t){e.token=t},expression:"token"}},[o("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.searchUser},slot:"append"},[e._v("查询")])],1)],1),o("el-col",{staticStyle:{"padding-top":"30px"}},[o("div",{staticClass:"select"},[o("el-form",{ref:"form",attrs:{"label-width":"100px"}},[o("el-form-item",{attrs:{label:"头像"}},[o("el-avatar",{attrs:{size:50,src:e.userInfo.avatar_url}})],1),o("el-form-item",{attrs:{label:"用户名"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.userInfo.login,callback:function(t){e.$set(e.userInfo,"login",t)},expression:"userInfo.login"}})],1),o("el-form-item",{attrs:{label:"地址"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.userInfo.location,callback:function(t){e.$set(e.userInfo,"location",t)},expression:"userInfo.location"}})],1),o("el-form-item",{attrs:{label:"选择仓库"}},[o("el-select",{attrs:{placeholder:"请选择"},on:{change:e.selectRepos},model:{value:e.upForm.repos,callback:function(t){e.$set(e.upForm,"repos",t)},expression:"upForm.repos"}},e._l(e.reposList,(function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.name}})})),1)],1),o("el-form-item",{attrs:{label:"选择目录"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.upForm.content,callback:function(t){e.$set(e.upForm,"content",t)},expression:"upForm.content"}},e._l(e.reposContents,(function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.val}})})),1)],1),o("el-form-item",{attrs:{label:"自定义目录"}},[o("el-checkbox",{model:{value:e.upForm.iscant,callback:function(t){e.$set(e.upForm,"iscant",t)},expression:"upForm.iscant"}},[e._v("点击使用自定义目录 -- 功能未完善，谨慎使用！")]),o("el-input",{attrs:{disabled:!e.upForm.iscant},model:{value:e.upForm.delimit,callback:function(t){e.$set(e.upForm,"delimit",t)},expression:"upForm.delimit"}})],1),o("el-form-item",{attrs:{label:"当前目录"}},[e.upForm.iscant?o("span",[e._v(" "+e._s("/repos/"+e.userInfo.login+"/"+e.upForm.repos+"/contents"+e.upForm.delimit)+" ")]):o("span",[e._v(" "+e._s("/repos/"+e.userInfo.login+"/"+e.upForm.repos+"/contents"+e.upForm.content)+" ")])]),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.setUploadInfo}},[e._v("确认设置")])],1)],1)],1)])],1)],1)},r=[],s=(o("4160"),o("b0c0"),o("159b"),o("c24f")),i={data:function(){return{fullscreenLoading:!1,token:"",userInfo:{},reposList:[],reposContents:[],upForm:{iscant:!1,repos:"",content:"",delimit:""}}},created:function(){this.upForm=this.$store.state.uploadInfo,this.token=this.$store.state.token,this.userInfo=this.$store.state.userInfo,localStorage.setItem("token",this.$store.state.token),this.userInfo.login&&this.getRepos(this.userInfo.login),""!=this.upForm.repos&&this.upForm.repos&&this.selectRepos(this.upForm.repos)},methods:{setUploadInfo:function(){this.$store.commit("setUploadInfo",this.upForm),this.$message.success("设置成功")},searchUser:function(){var e=this;this.fullscreenLoading=!0,localStorage.setItem("token",this.token),Object(s["b"])().then((function(t){e.upForm={iscant:!1,repos:"",content:"",delimit:""},e.$store.commit("setUploadInfo",{}),e.fullscreenLoading=!1,e.userInfo=t,e.$store.commit("setToken",e.token),e.$store.commit("setUserInfo",t),e.getRepos(t.login)})).catch((function(t){e.fullscreenLoading=!1,console.log(t)}))},getRepos:function(e){var t=this;Object(s["c"])(e).then((function(e){t.reposList=e})).catch((function(e){console.log(e)}))},selectRepos:function(e){var t=this;Object(s["a"])(this.userInfo.login,e).then((function(e){var o=[{name:"/",val:"/"}];e.forEach((function(e){"dir"==e.type&&o.push({name:e.name,val:"/"+e.path})})),t.reposContents=o})).catch((function(e){console.log(e)}))}}},a=i,c=(o("70e9"),o("2877")),l=Object(c["a"])(a,n,r,!1,null,null,null);t["default"]=l.exports},b727:function(e,t,o){var n=o("0366"),r=o("44ad"),s=o("7b0b"),i=o("50c4"),a=o("65f0"),c=[].push,l=function(e){var t=1==e,o=2==e,l=3==e,u=4==e,f=6==e,p=7==e,m=5==e||f;return function(d,h,b,v){for(var g,L,k=s(d),F=r(k),I=n(h,b,3),S=i(F.length),x=0,y=v||a,$=t?y(d,S):o||p?y(d,0):void 0;S>x;x++)if((m||x in F)&&(g=F[x],L=I(g,x,k),e))if(t)$[x]=L;else if(L)switch(e){case 3:return!0;case 5:return g;case 6:return x;case 2:c.call($,g)}else switch(e){case 4:return!1;case 7:c.call($,g)}return f?-1:l||u?u:$}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},c24f:function(e,t,o){"use strict";o.d(t,"b",(function(){return r})),o.d(t,"c",(function(){return s})),o.d(t,"a",(function(){return i}));o("99af");var n=o("bb36");function r(e){return Object(n["a"])({url:"/user",method:"get",headers:{Authorization:"token ".concat(e)}})}function s(e){return Object(n["a"])({url:"/users/".concat(e,"/repos"),method:"get"})}function i(e,t){return Object(n["a"])({url:"/repos/".concat(e,"/").concat(t,"/contents"),method:"get"})}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-4c68ba02.d3f0d1c7.js.map